<div class="w-screen min-h-screen bg-primary flex justify-content-center align-items-center">
    <div class="p-card sm:w-8 md:w-4 lg:w-4 xl:w-3 min-h-1rem p-4 m-4 flex justify-content-center align-items-center flex-column">
        <div class="flex flex-row justify-content-center align-items-center gap-5 m-3">
            <img class="m-2" width="48" height="48" src="https://img.icons8.com/external-tal-revivo-color-tal-revivo/96/external-firebase-a-googles-mobile-platform-that-helps-you-quickly-develop-high-quality-apps-logo-color-tal-revivo.png" alt="external-firebase-a-googles-mobile-platform-that-helps-you-quickly-develop-high-quality-apps-logo-color-tal-revivo"/>
            <h1>+</h1>
            <img class="m-2" width="48" height="48" src="https://img.icons8.com/cute-clipart/64/chat.png" alt="chat"/>
        </div>
        <div class="flex flex-column justify-content-center align-items-center">
            <span>WELCOME TO</span>
            <h1>Ng Chat Room</h1>
        </div>
        <form [formGroup]="loginForm!" (submit)="loginUser()">
            <div class="my-2">
                <label>Email</label>
                <p-inputGroup>
                    <p-inputGroupAddon>
                        <i class="pi pi-envelope"></i>
                    </p-inputGroupAddon>
                    <input pInputText formControlName="email" placeholder="Email" />
                </p-inputGroup>
                <div>
                    <small class="text-danger" 
                        *ngIf="loginForm?.get('email')?.touched && loginForm?.get('email')?.hasError('required')">
                    Email is required
                    </small>
                    <small class="text-danger" 
                            *ngIf="loginForm?.get('email')?.touched && loginForm?.get('email')?.hasError('email')">
                        Please enter a valid email address
                    </small>
                </div>
                
            </div>
            <div class="my-2">
                <label>Password</label>
                <p-inputGroup>
                    <p-inputGroupAddon>
                        <i class="pi pi-lock"></i>
                    </p-inputGroupAddon>
                    <p-password placeholder="Password" formControlName="password" styleClass="w-full" inputStyleClass="w-full" [toggleMask]="true" />
                </p-inputGroup>
                 <small class="text-danger" 
                        *ngIf="loginForm?.get('password')?.touched && loginForm?.get('password')?.hasError('required')">
                    Password is required
                </small>
                <br/>
                <small class="text-danger" 
                        *ngIf="loginForm?.get('password')?.touched && loginForm?.get('password')?.hasError('minlength')">
                    Password must be at least 8 characters
                </small>
            </div>
            <div class="my-2">
                <p-button   
                    type="submit"
                    styleClass="w-full"
                    label="Login" 
                    icon="pi pi-check" 
                    iconPos="right"
                    [icon]="isLoading?'pi pi-spin pi-spinner':'pi pi-lock'"
                    [disabled]="isLoading" />
            </div>
        </form>
        <span class="mb-2">OR</span>
        <a class="button text-primary" routerLink="/register">{{'Create a new account'|uppercase}}</a>
    </div>
</div>

<p-toast [life]="3000"/>